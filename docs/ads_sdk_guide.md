# 広告SDKガイド（MVP: バナーのみ）

最終更新: 2025-12-21

このドキュメントは、Todo/継続目標アプリ（iOS/Android、ローカル保存、同期なし）に **バナー広告のみ** を導入する際の、広告SDK選定と実装・審査で詰まりやすい点をまとめたガイドです。

## 結論（MVPおすすめ）

- MVPの最短ルートは **Google Mobile Ads SDK（AdMob）** を単独利用する構成
- “まず動かす”のが目的なら、メディエーション（複数ネットワークの束ね）や高度な最適化は後回し

## 広告SDKとは（何を入れるのか）

広告SDKは、以下をアプリ側に提供します。

- 広告枠（バナー等）の表示コンポーネント
- 広告の取得（ネットワーク通信）、表示、クリック計測
- 不正対策、収益レポート連携

アプリがクラウド同期をしなくても、広告配信のためにSDKは端末情報・ネットワーク情報等を扱う可能性があります。

## 主要候補（概要）

### 1) Google Mobile Ads SDK（AdMob）

- 強み
  - 導入事例が多く、バナー導入が比較的簡単
  - レポートや運用ノウハウが豊富
  - 後からメディエーション（複数広告網）へ拡張もしやすい
- 注意点
  - iOSではトラッキング（IDFA）や同意周りの設計が影響しやすい
  - 審査/ポリシー（コンテンツ、広告表示場所、ユーザー体験）に沿う必要がある

### 2) AppLovin MAX（メディエーション寄り）

- 強み
  - 複数ネットワークを束ねた最適化に強い
- 注意点
  - MVPでバナーだけだと過剰になりやすい（運用パラメータが増える）

### 3) Unity Ads / ironSource(LevelPlay) 等

- 強み
  - ゲーム寄りで強い領域がある
- 注意点
  - Todo/ユーティリティだと「まずこれ」になりにくい

## MVPで決めておくべき広告の方針

本プロジェクトの要件（docs/requirements.md）より、MVPは以下。

- 広告形式: バナーのみ
- 表示箇所: Todo一覧/継続目標一覧の下部のみ
- オフライン/ロード失敗: 領域ごと非表示（空白を残さない）
- パーソナライズ: 前提としない（非パーソナライズを基本）

## 運用ルール（MVP）

- 広告ユニットIDは iOS / Android で分ける
- 開発・検証中は必ずテスト広告を表示する
  - SDKが提供するテスト用の広告ユニットID、またはテスト端末設定を使用する
  - ストア提出・本番リリース時のみ本番用ユニットIDを使用する

## 実装・審査で詰まりやすいポイント

### 1) iOSのATT（AppTrackingTransparency）

- ポイント
  - 「トラッキング」を行う場合、ATT許可ダイアログが必要になるケースがある
  - バナーのみでも、SDK設定や利用形態によっては影響が出る
- MVP方針
  - まずは非パーソナライズ広告を基本とし、ATT周りの要否は採用SDKのガイドに合わせて判断する

### 2) GDPR等の同意（EU等）

- ポイント
  - 非パーソナライズでも、地域や配信形態により同意が求められることがある
- MVP方針
  - 初期は「非パーソナライズ基本」＋プライバシーポリシー整備を必須にし、同意UIは必要に応じて追加

### 3) ストア申告との整合

- Google Play: Data safety
- App Store: App Privacy

実装（導入SDK・設定）と申告内容がズレるとリジェクト要因になります。

関連ドキュメント:
- docs/privacy_policy_checklist.md
- docs/privacy_policy_draft.md

## 次に決めること（あなたが埋めれば完成）

- 採用する広告SDK（最有力: AdMob）
- アプリ名
- 子ども向けかどうか（一般向け/児童向け）

